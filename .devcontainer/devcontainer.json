// For format details, see https://aka.ms/vscode-remote/devcontainer.json or this file's README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.195.0/containers/go
{
	"name": "Go",
	"build": {
		"dockerfile": "Dockerfile",
		"args": {
			"VARIANT": "1.19-bullseye"
		}
	},
	"runArgs": [ "--cap-add=SYS_PTRACE", "--security-opt", "seccomp=unconfined" ],

	"mounts": [
		"type=bind,source=${localEnv:HOME}/.ssh,target=/home/vscode/.ssh,consistency=cached",
		"type=bind,source=${localWorkspaceFolder}/.devcontainer/.zsh_history,target=/home/vscode/.zsh_history,consistency=cached",
		"type=bind,source=${localWorkspaceFolder}/.devcontainer/.bash_history,target=/home/vscode/.bash_history,consistency=cached"
	],

	"containerEnv": {
		"GOCACHE": "/tmp/gocache",
		"GOMODCACHE": "/tmp/gomodcache"
	},
	
	"customizations": {
		"vscode": {
			"settings": { 
				"go.toolsManagement.checkForUpdates": "local",
				"go.useLanguageServer": true ,
				"go.gopath": "${containerEnv:GOPATH}",
				"go.goroot": "${containerEnv:GOROOT}"
			},
			"extensions": [
				"msyrus.go-doc",
				"windmilleng.vscode-go-autotest",
				"soren.go-coverage-viewer",
				"NeonXP.gotools",
				"joaoacdias.golang-tdd",
				"aldijav.golangwithdidi",
				"ms-vscode.makefile-tools",
				"formulahendry.docker-extension-pack",
				"ms-azuretools.vscode-docker",
				"henriiik.docker-linter",
				"yzane.markdown-pdf",
				"breaking-point.vsc-postman",
				"dbaeumer.vscode-eslint",
				"casian.plsql",
				"golang.go"
			]
		}
	},
	"remoteUser": "vscode"
}
